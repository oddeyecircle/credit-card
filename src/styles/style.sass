$cubic: cubic-bezier(0.83, 0, 0.17, 1)

@keyframes showFromBottom
    from
        top: 50px
    to
        top: 0

@keyframes rotate
    0%
        transform: rotate(0deg)
    60%
        transform: rotate(300deg)
    100%
        transform: rotate(359deg)


*,
::before,
::after
    box-sizing: border-box

body
    display: flex
    flex-direction: column
    background-color: #fafafa
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif

.container
    width: 414px
    max-width: 100%
    background-color: white
    margin: 0 auto
    border: thin solid rgba(black, .12)
    padding: 0 16px 16px

.credit-card
    background-color: #ffffff
    border-radius: 8px
    display: block
    margin: 16px auto
    height: 200px
    overflow: hidden
    position: relative
    perspective: 1000px
    &.card-is-flipped
        .credit-card-inner
            transform: rotateY(180deg)

.credit-card-inner
    position: relative
    width: 100%
    height: 100%
    transition: transform 600ms $cubic
    transform-style: preserve-3d
    

.credit-card__container-back
    position: absolute
    top: 100%
    left: 100%

.credit-card__container
    display: flex
    flex-direction: column
    width: 100%
    height: 100%
    position: absolute
    top: 0
    left: 0
    border-radius: 8px
    background-image: url('../img/333041-PA87UJ-960.jpg')
    background-size: 150%
    transition: all 600ms $cubic
    background-position: 30%
    background-repeat: no-repeat
    transform-style: preserve-3d
    backface-visibility: hidden
    &.back
        transform: rotateY(180deg)
        background-image: url('../img/333041-PA87UJ-960-flip.jpg')
        background-position: 70%
        &.zoom-on-ccv
            transform: rotateY(180deg) translateX(-75px) scale(1.4)
        .bar
            height: 40px
            background-color: black
            position: absolute
            top: 20%
            width: 100%
        .ccv
            height: 30px
            background-color: white
            top: 50%
            width: 70%
            position: absolute
            left: 50%
            transform: translateX(-50%)
            padding-right: 16px
            display: flex
            justify-content: flex-end
            align-items: center

    &.zoom-on-numbers
        transform: scale(1.4) translateX(54px) translateY(0px)
    &.zoom-on-expiry
        transform: scale(1.4) translateX(46px) translateY(-28px)
        .credit-card__container-expiry
            opacity: 1
    &.credit-card
        &-is-mastercard
            background-image: url('../img/3623355.jpg')
            .credit-card__container-numbers,
            .credit-card__container-expiry
                color: white
            .credit-card__logo
                background-image: url('../img/mastercard.svg')
                bottom: 8px
            + .back
                background-image: url('../img/3623355.jpg')
        &-is-visa
            background-image: url('../img/2783702.jpg')
            .credit-card__container-numbers,
            .credit-card__container-expiry
                color: white
            .credit-card__logo
                background-image: url('../img/visa.png')
                bottom: 8px
                right: 16px
            + .back
                background-image: url('../img/2783702.jpg')



.credit-card__container-numbers
    font-family: 'Credit Card'
    color: #757575
    position: absolute
    top: 50%
    transform: translateY(-50%)
    left: 16px
    transition: all 300ms $cubic
    &.name
        top: 90%
        .credit-card__number
            text-transform: uppercase
            &:nth-of-type(4n)
                margin-right: auto

.credit-card__number
    display: inline-block
    overflow: hidden
    position: relative
    width: 12px
    height: 18px
    font-family: 'Credit Card'
    &:nth-of-type(4n)
        margin-right: 8px
    .credit-card__number-animate
        position: absolute
        animation: showFromBottom 120ms $cubic


.credit-card__logo
    width: 60px
    height: 30px
    background-size: contain
    background-repeat: no-repeat
    position: absolute
    right: 0
    bottom: -30px
    transition: bottom 300ms $cubic 300ms

input::-webkit-outer-spin-button,
input::-webkit-inner-spin-button
    -webkit-appearance: none
    margin: 0
input[type=number]
    -moz-appearance: textfield

.form.disabled
    pointer-events: none
    input,
    select,
    .select-selected
        cursor: not-allowed
        pointer-events: none
        background-color: rgba(black, .06) !important
    .form-field,
    .select
        pointer-events: none

.form-field
    display: flex
    flex-direction: column
    margin-bottom: 16px
    label
        opacity: 0.42
        color: black
        font-size: 14px
        text-transform: uppercase
        font-weight: 500
        margin-bottom: 8px
    input
        appearance: none
        height: 40px
        border-radius: 0
        border: thin solid rgba(black, .12)
        text-align: center
        color: rgba(black, .56)
        transition: border 300ms $cubic
        font-size: 16px
        &:focus
            outline: 0
            font-size: 16px
    &.horizontal
        flex-direction: row
        align-items: center
        label
            flex-basis: 10%
            min-width: 10%
            max-width: 20%
            margin-bottom: 0

.divider
    color: rgba(black, .42)
    font-weight: 500
    margin: 8px 8px

.input-is-valid
    border-color: #69da69 !important

.input-is-invalid
    border-color: #f84444 !important

.select
    position: absolute
    width: 100%
    select
        display: none

.select-selected
    background-color: white
    height: 40px
    display: flex
    flex-direction: column
    justify-content: center
    &.is-disabled
        color: rgba(black, .42)
    &::after
        position: absolute
        content: ''
        top: 18px
        right: 10px
        width: 0
        height: 0
        border: 6px solid transparent
        border-color: black transparent transparent transparent
    &.select-arrow-active
        &::after
            border-color: transparent transparent black transparent
            top: 7px

.select-items div
    padding: 8px 17px
    border: thin solid transparent
    border-color: transparent transparent rgba(black, .12) transparent
    &:last-of-type
        border-color: transparent
    &:first-of-type
        pointer-events: none
        color: rgba(black, .42)
        
        
.select-selected
    padding: 8px 16px
    border: thin solid rgba(black, .12)
    cursor: pointer

.select-items
    position: absolute
    background-color: white
    top: -100%
    left: 0
    right: 0
    z-index: 99
    border-radius: 8px
    border: thin solid rgba(black, .12)
    height: 300px
    overflow-y: scroll
    transform: scale(Y1)
    transform-origin: 0 20px
    transition: all 300ms $cubic

.select-hide
    transform: scaleY(0)
    opacity: 0
    pointer-events: none

.select-items div:hover,
.same-as-selected
    background-color: rgba(black, .08)

.row
    display: flex
    flex-direction: row

.column
    display: flex
    flex-direction: column
    flex: 1
    position: relative

.credit-card__container-expiry
    font-family: 'Credit Card'
    font-size: 12px
    position: absolute
    top: 65%
    display: flex
    align-items: center
    left: 25%
    opacity: 0
    color: rgba(black, .42)
    transition: opacity 300ms $cubic
    &.has-numbers
        opacity: 1

.credit-card__container-numbers__expiry
    overflow: hidden
    position: relative
    width: 20px
    height: 17px

.credit-card_container-expiry__month-animate,
.credit-card_container-expiry__year-animate
    animation: showFromBottom 120ms $cubic
    animation-play-state: paused
    position: absolute
    &.animate
        animation-play-state: running

.ccv
    padding-left: 16px

.button
    appearance: none
    background-color: #14d179
    color: white
    font-weight: 600
    border: none
    width: 100%
    padding: 8px 16px
    font-size: .9rem
    text-transform: uppercase
    cursor: pointer
    margin-top: 42px
    user-select: none
    &.disabled
        background-color: mix(#14d179, black, 90%)
        pointer-events: none
        cursor: not-allowed
    &:hover
        background-color: mix(#14d179, black, 90%)
    &:focus
        outline: 0
    &:disabled
        background-color: mix(#14d179, white, 30%)
        pointer-events: none
        cursor: not-allowed

.loader
    width: 16px
    height: 16px
    border: 2px solid white
    border-top-color: transparent
    border-radius: 100%
    margin: 0 auto
    animation: rotate 1s linear infinite

@media screen and (max-width: 768px)
    .credit-card__container-numbers
        left: 12px
        font-size: 14px
    .credit-card__container.zoom-on-numbers
        transform: scale(1.3) translateX(36px) translateY(0px)
    .row
        flex-wrap: wrap
    .column-sm
        flex-basis: 100%
    .ccv
        padding-left: 0
    .credit-card__container.back.zoom-on-ccv
        transform: rotateY(180deg) translateX(-60px) scale(1.4)